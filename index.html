<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tazas a la Medida ‚öñÔ∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #fcfaf2; color: #333; }
        .card { background-color: #ffffff; border-radius: 1.25rem; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); padding: 1.5rem; margin-bottom: 1.5rem; position: relative; overflow: hidden; }
        .miga-input { border: 2px solid #e2e8f0; border-radius: 0.75rem; padding: 0.75rem; width: 100%; outline: none; transition: border-color 0.2s; background-color: white; }
        .miga-input:focus { border-color: #A0522D; }
        .result-box { background-color: #FFF8DC; border-left: 4px solid #A0522D; padding: 0.75rem; border-radius: 0.5rem; display: flex; justify-content: space-between; margin-top: 0.4rem; font-size: 0.85rem; }
        .ad-space { background-color: #f3f4f6; color: #9ca3af; font-size: 10px; text-align: center; padding: 12px; border-radius: 8px; border: 2px dashed #e5e7eb; margin: 15px 0; font-weight: bold; text-transform: uppercase; }
        .premium-overlay { position: absolute; inset: 0; background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(3px); z-index: 10; cursor: not-allowed; }
        #payment-modal, #share-modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); align-items: center; justify-content: center; z-index: 100; backdrop-filter: blur(4px); }
    </style>
</head>
<body class="p-4 flex flex-col items-center">

    <div class="w-full max-w-md">
        <!-- PUBLICIDAD SUPERIOR -->
        <div class="ad-space">Espacio Publicitario (AdSense)</div>

        <header class="text-center mb-6 pt-2">
            <h1 class="text-3xl font-bold text-[#A0522D]">Tazas a la Medida ‚öñÔ∏è</h1>
            <p class="text-gray-500 italic text-sm px-4">Calculadora de precisi√≥n para la Cocina, Reposter√≠a y Panader√≠a</p>
        </header>

        <!-- CONVERSOR -->
        <div class="card">
            <h2 class="text-lg font-bold mb-4 flex items-center text-[#A0522D]">
                <span class="mr-2">üç≥</span> Conversor Universal
            </h2>
            <div class="space-y-4">
                <div>
                    <label class="text-[10px] font-bold text-gray-400 uppercase ml-1">Selecciona Ingrediente</label>
                    <select id="sel-ing" class="miga-input">
                        <option value="" disabled selected>-- Elige un ingrediente --</option>
                        
                        <optgroup label="ü•ñ Panader√≠a y Reposter√≠a">
                            <option value="120">Harina de Trigo (Todo uso)</option>
                            <option value="130">Harina de Fuerza</option>
                            <option value="200">Az√∫car Granulada</option>
                            <option value="160">Az√∫car Glass / Impalpable</option>
                            <option value="110">Cacao en Polvo</option>
                            <option value="150">Levadura Seca</option>
                            <option value="190">Polvo de Hornear</option>
                        </optgroup>

                        <optgroup label="üáªüá™ Sabor Venezolano">
                            <option value="155">Harina PAN (Ma√≠z Precocida)</option>
                            <option value="180">Papel√≥n Rallado</option>
                            <option value="100">Queso Llanero Rallado</option>
                            <option value="240">Suero de Leche</option>
                            <option value="120">Almid√≥n de Yuca</option>
                        </optgroup>

                        <optgroup label="üçö Arroz, Pastas y Granos">
                            <option value="185">Arroz Blanco (Grano largo)</option>
                            <option value="200">Arroz para Risotto (Arboreo)</option>
                            <option value="90">Pasta Corta (Penne/Tornillo)</option>
                            <option value="210">Caraotas Negras / Rojas (Secas)</option>
                            <option value="205">Lentejas (Secas)</option>
                            <option value="195">Garbanzos (Secos)</option>
                            <option value="170">Quinoa (Seca)</option>
                            <option value="175">Cusc√∫s</option>
                        </optgroup>

                        <optgroup label="ü•õ L√°cteos y L√≠quidos">
                            <option value="236">Agua / Leche</option>
                            <option value="218">Aceite Vegetal / Oliva</option>
                            <option value="245">Yogur Natural</option>
                            <option value="250">Crema de Leche / Nata</option>
                            <option value="280">Salsa de Tomate / Passata</option>
                            <option value="260">Salsa de Soja</option>
                            <option value="240">Vinagre</option>
                        </optgroup>

                        <optgroup label="üßÇ Condimentos y Quesos">
                            <option value="280">Sal Fina</option>
                            <option value="80">Queso Parmesano Rallado</option>
                            <option value="115">Pan Rallado</option>
                            <option value="100">Or√©gano Seco</option>
                            <option value="140">Comino / Piment√≥n en polvo</option>
                            <option value="340">Miel / Jarabe</option>
                        </optgroup>
                    </select>
                </div>

                <div class="flex gap-2">
                    <div class="flex-1">
                        <label class="text-[10px] font-bold text-gray-400 uppercase ml-1">Cantidad</label>
                        <input type="number" id="num-val" class="miga-input" placeholder="0" step="any">
                    </div>
                    <div class="w-1/3">
                        <label class="text-[10px] font-bold text-gray-400 uppercase ml-1">Unidad</label>
                        <select id="sel-unit" class="miga-input">
                            <option value="cups">Tazas</option>
                            <option value="tbsp">Cdas</option>
                            <option value="tsp">Cdtas</option>
                            <option value="grams">Gramos</option>
                            <option value="ml">Mililitros</option>
                        </select>
                    </div>
                </div>

                <div id="res-area" class="mt-4 pt-2 border-t border-gray-100 text-center text-gray-400 text-xs">
                    Resultados precisos para tus recetas
                </div>

                <button onclick="document.getElementById('share-modal').style.display='flex'" class="w-full mt-4 flex items-center justify-center gap-2 bg-white border-2 border-[#A0522D] text-[#A0522D] py-3 rounded-xl font-bold text-sm hover:bg-[#FFF8DC] transition-all active:scale-95">
                    <span>üì≤</span> Compartir C√°lculo
                </button>
            </div>
        </div>

        <!-- ESTIMADOR DE COSTOS (BLOQUEADO) -->
        <div class="card bg-gray-50 opacity-60">
            <div class="premium-overlay"></div>
            <h2 class="text-lg font-bold mb-4 flex items-center text-gray-400">
                <span class="mr-2">üí∏</span> Calculadora de Costos (PRO)
            </h2>
            <div class="flex gap-2">
                <input type="text" class="miga-input" placeholder="Tasa BCV del d√≠a" disabled>
                <input type="text" class="miga-input" placeholder="Precio insumo $" disabled>
            </div>
        </div>

        <!-- SECCI√ìN PREMIUM -->
        <div class="card border-2 border-yellow-500 bg-gradient-to-br from-white to-yellow-50">
            <h2 class="text-xl font-black mb-3 text-[#A0522D] flex items-center justify-between">
                Acceso PRO <span>üíé</span>
            </h2>
            <div class="text-[12px] space-y-2 mb-5 text-gray-700">
                <p>‚ú® <b>Sin Publicidad:</b> Experiencia limpia y r√°pida.</p>
                <p>üìà <b>Gesti√≥n de Costos:</b> Convierte gramos en dinero real.</p>
                <p>üìô <b>Nube:</b> Guarda tus recetas y √°brelas donde sea.</p>
            </div>
            
            <button onclick="document.getElementById('payment-modal').style.display='flex'" class="w-full bg-[#A0522D] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-[#8B4513] transition-colors">
                Activar Plan Pro
            </button>
        </div>

        <footer class="text-center text-gray-400 text-[10px] mt-4 mb-10">
            Tazas a la Medida ¬© 2025 - Cocina de Precisi√≥n
        </footer>
    </div>

    <!-- MODAL DE PAGO -->
    <div id="payment-modal">
        <div class="bg-white p-6 rounded-3xl w-full max-w-sm shadow-2xl mx-4 relative text-center">
            <button onclick="document.getElementById('payment-modal').style.display='none'" class="absolute top-4 right-4 text-gray-400 text-xl font-bold">&times;</button>
            <h3 class="text-xl font-bold mb-6 text-[#A0522D]">Activar Funciones PRO</h3>
            <p class="text-xs text-gray-500 mb-6">Apoya el proyecto y desbloquea el gestor de costos:</p>
            <div class="grid grid-cols-2 gap-3 mb-6">
                <a href="https://www.paypal.me/rhav93" target="_blank" class="flex flex-col items-center p-3 border-2 border-blue-100 rounded-2xl hover:bg-blue-50 transition-colors">
                    <span class="text-xl mb-1">üí≥</span>
                    <span class="text-[10px] font-bold text-blue-600">PayPal</span>
                </a>
                <div onclick="copyBinance()" class="flex flex-col items-center p-3 border-2 border-yellow-100 rounded-2xl hover:bg-yellow-50 cursor-pointer transition-colors">
                    <span class="text-xl mb-1">üü°</span>
                    <span class="text-[10px] font-bold text-yellow-600">Binance Pay</span>
                </div>
            </div>
            <p class="text-[10px] text-gray-400 italic">Al pagar, env√≠a tu comprobante para habilitar tu cuenta.</p>
        </div>
    </div>

    <!-- MODAL DE COMPARTIR -->
    <div id="share-modal">
        <div class="bg-white p-6 rounded-3xl w-full max-w-sm shadow-2xl mx-4 relative">
            <button onclick="document.getElementById('share-modal').style.display='none'" class="absolute top-4 right-4 text-gray-400 text-xl font-bold">&times;</button>
            <h3 class="text-xl font-bold text-center mb-6 text-[#A0522D]">Enviar c√°lculo</h3>
            <div class="space-y-4">
                <button onclick="shareAction('whatsapp')" class="w-full flex items-center justify-between p-4 bg-[#25D366] text-white rounded-2xl font-bold active:scale-95 transition-transform">
                    <span>WhatsApp</span>
                    <span>üí¨</span>
                </button>
                <button onclick="shareAction('copy')" class="w-full flex items-center justify-between p-4 bg-slate-800 text-white rounded-2xl font-bold active:scale-95 transition-transform">
                    <span>Copiar Texto</span>
                    <span>üìã</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        const ing = document.getElementById('sel-ing');
        const val = document.getElementById('num-val');
        const unit = document.getElementById('sel-unit');
        const res = document.getElementById('res-area');

        let sharedMsg = "";

        function copyBinance() {
            const id = "1073665393";
            const el = document.createElement('textarea');
            el.value = id;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            alert("ID de Binance Copiado: " + id);
        }

        function calculate() {
            const density = parseFloat(ing.value);
            const amount = parseFloat(val.value);
            const u = unit.value;
            const ingName = ing.options[ing.selectedIndex]?.text || "";

            if (!density || isNaN(amount) || amount <= 0) {
                res.innerHTML = '<p class="text-center text-gray-400 text-xs italic">Ingresa una cantidad y selecciona el ingrediente</p>';
                sharedMsg = "";
                return;
            }

            let cups = 0;
            if (u === 'cups') cups = amount;
            else if (u === 'tbsp') cups = amount / 16;
            else if (u === 'tsp') cups = amount / 48;
            else if (u === 'grams') cups = amount / density;
            else if (u === 'ml') cups = amount / 236.59;

            const grams = cups * density;
            const ml = cups * 236.59;
            const tbsp = cups * 16;
            const tsp = cups * 48;

            res.innerHTML = `
                <div class="result-box"><span>Tazas</span><b>${cups.toLocaleString('es-ES', {minimumFractionDigits: 1, maximumFractionDigits: 2})}</b></div>
                <div class="result-box"><span>Gramos</span><b>${grams.toFixed(1)} g</b></div>
                <div class="result-box"><span>Mililitros</span><b>${ml.toFixed(0)} ml</b></div>
                <div class="grid grid-cols-2 gap-2 mt-1">
                    <div class="result-box mt-0"><span>Cdas</span><b>${tbsp.toFixed(1)}</b></div>
                    <div class="result-box mt-0"><span>Cdtas</span><b>${tsp.toFixed(1)}</b></div>
                </div>
            `;

            sharedMsg = `‚öñÔ∏è C√°lculo: Tazas a la Medida\n--------------------------\nüõí Ingrediente: ${ingName}\nüìù Medida inicial: ${amount} ${u}\n\nEQUIVALENCIAS:\n‚òï Tazas: ${cups.toFixed(2)}\n‚öñÔ∏è Gramos: ${grams.toFixed(1)}g\nüíß Mililitros: ${ml.toFixed(0)}ml\nü•Ñ Cucharadas: ${tbsp.toFixed(1)}\n--------------------------\n¬°Hecho con precisi√≥n! ü•Ø`;
        }

        function shareAction(p) {
            if(!sharedMsg) { alert("¬°Realiza un c√°lculo primero!"); return; }
            if(p === 'whatsapp') {
                window.open(`https://wa.me/?text=${encodeURIComponent(sharedMsg)}`, '_blank');
            } else {
                const el = document.createElement('textarea');
                el.value = sharedMsg;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                alert("Texto copiado con √©xito.");
            }
            document.getElementById('share-modal').style.display='none';
        }

        ing.addEventListener('change', calculate);
        val.addEventListener('input', calculate);
        unit.addEventListener('change', calculate);
    </script>
</body>
</html>
